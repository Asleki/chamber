/* ============================================== */
/* Directory Page Specific Styles                 */
/* This file should contain styles unique to the  */
/* directory.html page.                           */
/* ============================================== */

/* Directory Page Content Padding (inherits .container max-width) */
.directory-page-content {
    padding-top: 2rem;
    padding-bottom: 2rem;
}

/* ============================================== */
/* Directory Insights Section Styles              */
/* ============================================== */
.directory-insights {
    margin-bottom: 2.5rem;
    padding: 1rem 0;
}

.directory-insights h3 {
    text-align: center;
    margin-bottom: 1.5rem;
    font-size: 1.8rem;
    color: var(--primary-color-dark);
}

.insights-grid {
    display: grid;
    grid-template-columns: 1fr; /* Default to single column on small screens */
    gap: 1.5rem;
    margin-bottom: 2rem;
}

.insight-card {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    padding: 1.5rem;
    /* Inherits background, border, shadow, border-radius from main.css */
}

.insight-card i {
    font-size: 2.5rem;
    color: var(--secondary-color);
    margin-bottom: 0.75rem;
}

.insight-card h4 {
    font-size: 1.3rem;
    margin-bottom: 0.5rem;
    color: var(--heading-color);
}

.insight-card p {
    font-size: 0.95rem;
    color: var(--text-color-secondary);
    margin-bottom: 0;
}

.insight-card span {
    font-weight: 700;
    color: var(--primary-color);
}

.cta-banner {
    background-color: var(--primary-color);
    color: var(--background-color-white);
    padding: 1.5rem;
    border-radius: 8px;
    text-align: center;
    font-size: 1.1rem;
    box-shadow: 0 4px 8px var(--shadow-color);
}

.cta-banner p {
    margin: 0;
}

.cta-banner a {
    color: var(--secondary-color-light); /* Lighter accent for link on dark background */
    font-weight: 700;
    text-decoration: underline;
}

.cta-banner a:hover {
    color: var(--secondary-color);
    text-decoration: none;
}

/* ============================================== */
/* Directory Controls Section Styles              */
/* ============================================== */
.directory-controls-section {
    margin-bottom: 2.5rem;
    background-color: var(--background-color-white);
    padding: 1.5rem;
    border-radius: 8px;
    border: 1px solid var(--border-color);
    box-shadow: 0 2px 5px var(--shadow-color);
    transition: background-color 0.3s ease, border-color 0.3s ease, box-shadow 0.3s ease;
}

.directory-controls {
    display: flex;
    flex-direction: column;
    gap: 1.5rem; /* Space between search, filters, and view toggles */
}

.search-input-group {
    display: flex;
    position: relative; /* For positioning the search button */
}

.search-input-group input[type="search"] {
    flex-grow: 1;
    margin-bottom: 0; /* Override global input margin */
    padding-right: 3rem; /* Space for search button */
    border-top-right-radius: 0;
    border-bottom-right-radius: 0;
}

.search-input-group .search-submit {
    background-color: var(--primary-color);
    color: var(--background-color-white);
    border: 1px solid var(--primary-color);
    padding: 0.75rem 1rem;
    border-top-right-radius: 5px;
    border-bottom-right-radius: 5px;
    cursor: pointer;
    transition: background-color 0.2s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    margin-left: -1px; /* Overlap border with input */
}

.search-input-group .search-submit:hover {
    background-color: var(--primary-color-dark);
}

.filters-group {
    display: flex;
    flex-wrap: wrap; /* Allow filters to wrap */
    gap: 1rem;
    align-items: center;
    justify-content: flex-start; /* Align filters to the start on mobile */
}

.filters-group label {
    font-weight: 600;
    color: var(--text-color-primary);
    white-space: nowrap; /* Prevent label wrapping */
}

.filters-group select {
    width: auto; /* Allow selects to take natural width */
    min-width: 120px; /* Ensure minimum width for readability */
    flex-grow: 1; /* Allow selects to grow if space is available */
    margin-bottom: 0; /* Override global input margin */
}

.filters-group .btn-secondary {
    margin-left: auto; /* Push reset button to the right on wider screens */
}


.view-toggle-buttons {
    display: flex;
    justify-content: center; /* Center buttons on mobile */
    gap: 0.5rem;
    border: 1px solid var(--border-color);
    border-radius: 5px;
    overflow: hidden; /* Ensures buttons don't overflow the border radius */
}

.view-toggle-buttons .view-btn {
    flex-grow: 1; /* Allow buttons to take equal space */
    padding: 0.75rem 1rem;
    background-color: var(--background-color-white);
    color: var(--text-color-primary);
    border: none;
    cursor: pointer;
    transition: background-color 0.2s ease, color 0.2s ease;
    font-weight: 600;
}

.view-toggle-buttons .view-btn:hover:not(.active) {
    background-color: var(--background-color-hover);
    color: var(--primary-color);
}

.view-toggle-buttons .view-btn.active {
    background-color: var(--primary-color);
    color: var(--background-color-white);
}

/* Dark mode specific adjustments for view toggle buttons */
body.dark-mode .view-toggle-buttons .view-btn {
    background-color: var(--background-color-white); /* Dark mode card background */
    color: var(--text-color-primary); /* Dark mode primary text */
}

body.dark-mode .view-toggle-buttons .view-btn:hover:not(.active) {
    background-color: var(--background-color-hover);
    color: var(--primary-color);
}

body.dark-mode .view-toggle-buttons .view-btn.active {
    background-color: var(--primary-color-dark); /* Use darker primary for active in dark mode */
    color: var(--background-color-white);
}


/* ============================================== */
/* Directory Listings Section Styles              */
/* ============================================== */
.directory-listings {
    margin-bottom: 2rem;
}

.directory-listings h3 {
    text-align: center;
    margin-bottom: 1.5rem;
    font-size: 1.8rem;
    color: var(--heading-color);
}

#member-count {
    font-size: 1rem;
    color: var(--text-color-secondary);
    font-weight: normal;
}

#members-display {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); /* Responsive grid for members */
    gap: 1.5rem;
    margin-bottom: 2rem;
}

/* Member Card Styles (Grid View) */
.member-card {
    background-color: var(--background-color-white);
    border: 1px solid var(--border-color);
    border-radius: 8px;
    padding: 1.5rem;
    text-align: center;
    box-shadow: 0 4px 8px var(--shadow-color);
    transition: transform 0.2s ease, box-shadow 0.2s ease, background-color 0.3s ease;
    cursor: pointer; /* Indicates it's clickable for modal */
    display: flex; /* Ensures content is vertically aligned in card */
    flex-direction: column;
    justify-content: space-between; /* Pushes content and footer apart */
}

.member-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
}

.member-card .member-logo {
    width: 100px;
    height: 100px;
    object-fit: contain; /* Ensures logo fits without distortion */
    margin: 0 auto 1rem; /* Center logo and add bottom margin */
    border-radius: 5px; /* Slight rounded corners for logo */
}

.member-card h4 {
    font-size: 1.4rem;
    color: var(--primary-color);
    margin-bottom: 0.5rem;
}

.member-card p {
    font-size: 0.95rem;
    color: var(--text-color-primary);
    margin-bottom: 0.75rem;
}

.member-card .member-address,
.member-card .member-phone,
.member-card .member-email {
    color: var(--text-color-secondary);
    margin-bottom: 0.4rem;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
}

.member-card .member-email a {
    color: var(--text-color-secondary); /* Keep link color subtle within card */
}
.member-card .member-email a:hover {
    color: var(--primary-color);
}

.member-card .member-website {
    margin-top: auto; /* Pushes button/link to the bottom */
    padding-top: 1rem; /* Space from content above */
    border-top: 1px dashed var(--border-color-light); /* Separator */
}

.member-card .member-website a {
    font-weight: 600;
    color: var(--primary-color);
}
.member-card .member-website a:hover {
    text-decoration: underline;
    color: var(--primary-color-dark);
}

/* Member Card Styles (List View) */
#members-display.member-list {
    display: flex;
    flex-direction: column;
    gap: 1rem; /* Smaller gap for list view */
}

#members-display.member-list .member-card {
    flex-direction: row; /* Horizontal layout for list items */
    text-align: left;
    padding: 1rem 1.5rem;
    align-items: center; /* Vertically center content */
    justify-content: space-between; /* Distribute items horizontally */
}

#members-display.member-list .member-card .member-logo {
    width: 70px;
    height: 70px;
    margin: 0 1.5rem 0 0; /* Margin on the right of logo */
    flex-shrink: 0; /* Prevents logo from shrinking too much */
}

#members-display.member-list .member-card .member-info {
    flex-grow: 1; /* Allows info section to take available space */
}

#members-display.member-list .member-card h4 {
    font-size: 1.3rem; /* Slightly smaller heading for list */
    margin-bottom: 0.25rem;
}

#members-display.member-list .member-card p {
    margin-bottom: 0.2rem;
    font-size: 0.9rem;
}

#members-display.member-list .member-card .member-address,
#members-display.member-list .member-card .member-phone,
#members-display.member-list .member-card .member-email {
    justify-content: flex-start; /* Align icons/text to start */
    margin-bottom: 0;
}

#members-display.member-list .member-card .member-website {
    margin-top: 0; /* Remove top margin */
    padding-top: 0;
    border-top: none; /* Remove border */
    text-align: right; /* Align link to the right */
    flex-shrink: 0; /* Prevent link from shrinking */
    padding-left: 1rem; /* Space between info and link */
}


/* Load More Button */
.load-more-container {
    text-align: center;
    margin-top: 2rem;
}


/* ============================================== */
/* Member Detail Modal Styles                     */
/* ============================================== */
.modal {
    display: none; /* Hidden by default */
    position: fixed; /* Stay in place */
    z-index: 10000; /* Sit on top */
    left: 0;
    top: 0;
    width: 100%; /* Full width */
    height: 100%; /* Full height */
    overflow: auto; /* Enable scroll if needed */
    background-color: rgba(0, 0, 0, 0.6); /* Black w/ opacity for backdrop */
    backdrop-filter: blur(5px); /* Frosted glass effect */
    display: flex; /* Use flex to center modal-content */
    align-items: center; /* Center vertically */
    justify-content: center; /* Center horizontally */
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.3s ease, visibility 0.3s ease;
}

.modal.active {
    opacity: 1;
    visibility: visible;
}

.modal-content {
    position: relative;
    max-width: 600px; /* Max width of the modal */
    width: 90%; /* Responsive width */
    margin: auto; /* Not strictly needed with flex centering, but good fallback */
    padding: 2rem;
    /* Inherits background, border, shadow, border-radius from main.css */
    transform: translateY(20px);
    transition: transform 0.3s ease;
    /* Centering and scroll for modal content */
    display: flex;
    flex-direction: column;
    align-items: center; /* Center horizontally */
    text-align: center; /* Center text within the modal content */
    overflow-y: auto; /* Enable vertical scroll */
    max-height: 90vh; /* Limit height to enable scrolling */
}

.modal.active .modal-content {
    transform: translateY(0);
}

.close-button {
    color: var(--text-color-secondary);
    font-size: 2rem;
    font-weight: bold;
    position: absolute;
    top: 10px;
    right: 20px;
    cursor: pointer;
    transition: color 0.2s ease;
}

.close-button:hover,
.close-button:focus {
    color: var(--primary-color);
    text-decoration: none;
    cursor: pointer;
}

#member-detail-body {
    display: flex;
    flex-direction: column; /* Stacks children vertically */
    align-items: center; /* Centers items horizontally */
    text-align: center; /* Centers text within the body */
    width: 100%; /* Ensures it takes full width of modal-content */
}

#member-detail-body .modal-logo { /* Renamed for clarity, was img */
    max-width: 150px;
    height: auto;
    border-radius: 5px;
    margin-bottom: 1.5rem;
    border: 1px solid var(--border-color-light);
}

#member-detail-body h2 { /* Targeting the main heading within the modal */
    font-size: 2rem; /* Adjusted from h4 to h2 for prominence */
    color: var(--primary-color);
    margin-bottom: 0.75rem;
}

#member-detail-body .modal-slogan { /* Styles for the description/slogan paragraph */
    font-size: 1.1rem;
    color: var(--text-color-secondary);
    margin-bottom: 1.5rem;
    line-height: 1.5;
}

#member-detail-body .modal-details {
    width: 100%; /* Ensures details section spans full width */
    text-align: left; /* Aligns text left within the details section */
    margin-bottom: 1.5rem;
}

#member-detail-body .modal-details p {
    font-size: 1rem;
    color: var(--text-color-primary);
    margin-bottom: 0.7rem;
    line-height: 1.4;
}

#member-detail-body .modal-details p strong {
    color: var(--heading-color); /* Emphasizes labels */
}

#member-detail-body .modal-details a {
    font-weight: 600;
    color: var(--primary-color);
    text-decoration: none;
}

#member-detail-body .modal-details a:hover {
    text-decoration: underline;
}

#member-detail-body .modal-buttons {
    margin-top: 1.5rem;
    display: flex;
    flex-direction: column; /* Stack buttons vertically */
    gap: 1rem;
    width: 100%;
}

#member-detail-body .modal-buttons .btn {
    width: 100%; /* Full width buttons */
    padding: 0.8rem 1.5rem;
    font-size: 1.1rem;
}

/* Specific style for the close button at the bottom of the modal */
.close-button-bottom {
    background-color: var(--background-color-light);
    color: var(--text-color-primary);
    border: 1px solid var(--border-color);
}

.close-button-bottom:hover {
    background-color: var(--background-color-hover);
    color: var(--primary-color-dark);
}


/* ============================================== */
/* Media Queries for Directory Page               */
/* ============================================== */

/* Small devices (landscape phones, 576px and up) */
@media (min-width: 576px) {
    .insights-grid {
        grid-template-columns: repeat(2, 1fr); /* 2 columns for insights */
    }

    .directory-controls {
        flex-direction: row; /* Horizontal layout for controls */
        flex-wrap: wrap; /* Allow wrapping */
        justify-content: space-between;
        align-items: flex-start; /* Align items to the top if they wrap */
    }

    .search-input-group {
        flex-basis: 100%; /* Take full width on small tablets for search */
        margin-bottom: 0.5rem; /* Add space below search */
    }

    .filters-group {
        flex-grow: 1; /* Allow filters to take remaining space */
        justify-content: flex-start;
        align-items: center; /* Vertically center items in filter group */
    }
    .filters-group select {
        flex-grow: 0; /* Control growth more precisely */
        width: auto;
    }
    .filters-group .btn-secondary {
        margin-left: 0; /* Reset margin-left auto */
    }

    .view-toggle-buttons {
        flex-shrink: 0; /* Prevent buttons from shrinking */
    }

    #members-display.member-list .member-card {
        justify-content: flex-start; /* Align to start in list view */
        gap: 1rem;
    }
    #members-display.member-list .member-card .member-website {
        margin-left: auto; /* Push website link to the right */
    }

    .modal-content {
        max-width: 500px; /* Adjust max-width for better tablet viewing */
    }
}

/* Medium devices (tablets, 768px and up) */
@media (min-width: 768px) {
    .insights-grid {
        grid-template-columns: repeat(4, 1fr); /* 4 columns for insights */
    }

    .directory-insights h3,
    .directory-listings h3 {
        font-size: 2rem; /* Larger heading */
    }

    .directory-controls {
        gap: 1rem; /* Tighter gap */
        align-items: center; /* Center items vertically */
    }

    .search-input-group {
        flex-basis: auto; /* Auto width, allow flex grow */
        flex-grow: 1;
        margin-bottom: 0; /* Remove extra margin */
    }

    .filters-group {
        flex-grow: 2; /* Allow filters to take more space than search if needed */
    }

    .filters-group .btn-secondary {
        margin-left: auto; /* Push reset button to the right */
        flex-shrink: 0;
    }
    .view-toggle-buttons {
        justify-content: flex-end; /* Align buttons to the right */
    }

    #members-display {
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); /* Slightly larger min-width for member cards */
    }

    #members-display.member-list .member-card {
        padding: 1.25rem 2rem; /* More padding for list items */
    }

    /* Modal layout for medium screens and up */
    .modal-content {
        max-width: 650px; /* Increased max-width for tablets */
    }

    #member-detail-body {
        /* Revert to default column flow for smaller screens within this breakpoint,
           or maintain column flow to ensure logo is always on top.
           The initial flex-direction: column is appropriate here. */
        flex-direction: column;
        align-items: center;
        text-align: center;
    }

    #member-detail-body .modal-logo {
        margin-bottom: 1.5rem; /* Ensure space below logo */
    }

    #member-detail-body .modal-details {
        text-align: center; /* Center text within details section for larger screens too */
    }

    #member-detail-body .modal-details p {
        justify-content: center; /* Center content within paragraphs if they have flex */
    }
}

/* Large devices (desktops, 992px and up) */
@media (min-width: 992px) {
    .directory-insights h3,
    .directory-listings h3 {
        font-size: 2.2rem;
    }

    .directory-controls {
        flex-wrap: nowrap; /* Prevent wrapping on large screens */
    }

    .search-input-group {
        width: 300px; /* Give search a fixed width on large screens */
        flex-grow: 0;
    }

    .filters-group {
        flex-grow: 1; /* Let filters take remaining space */
    }
    .filters-group select {
        width: auto;
        flex-grow: 0;
        margin-right: 0.5rem; /* Add small space between selects */
    }
    .filters-group label {
        margin-right: 0.2rem;
    }

    #members-display {
        grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); /* Further increase min-width for larger screens */
    }

    .modal-content {
        max-width: 700px; /* Further adjust max-width for large desktops */
    }
}

/* Extra large devices (large desktops, 1200px and up) */
@media (min-width: 1200px) {
    /* No major layout changes, just ensures elements continue to align within max-width container */
}